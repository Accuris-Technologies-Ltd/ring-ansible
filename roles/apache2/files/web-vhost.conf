<VirtualHost *:80>
ServerName web.ring.nlnog.net

DocumentRoot /var/www/web.ring.nlnog.net/HTML
Redirect permanent / https://web.ring.nlnog.net/
</VirtualHost>

<VirtualHost *:443>
ServerAdmin ring-admins@nlnog.net
ServerName web.ring.nlnog.net

DocumentRoot /var/www/web.ring.nlnog.net/HTML
<Directory /var/www/web.ring.nlnog.net/HTML/scripts>
    Options ExecCGI
    AddHandler cgi-script .cgi
</Directory>

RedirectMatch "^/$" "/introduction/"
ErrorDocument 404 /404.html
ErrorLog ${APACHE_LOG_DIR}/web.ring.nlnog.net-error.log

# Possible values include: debug, info, notice, warn, error, crit,
# alert, emerg.
LogLevel warn

CustomLog ${APACHE_LOG_DIR}/web.ring.nlnog.net-access.log combined

SSLEngine On
SSLCACertificateFile /etc/letsencrypt/live/web.ring.nlnog.net/fullchain.pem

SSLCertificateFile /etc/letsencrypt/live/web.ring.nlnog.net/cert.pem
SSLCertificateKeyFile /etc/letsencrypt/live/web.ring.nlnog.net/privkey.pem
Include /etc/letsencrypt/options-ssl-apache.conf
SSLCertificateChainFile /etc/letsencrypt/live/web.ring.nlnog.net/chain.pem

</VirtualHost>
<VirtualHost *:443>
ServerAdmin ring-admins@nlnog.net
ServerName ring.nlnog.net

DocumentRoot /var/www/web.ring.nlnog.net/HTML
<Directory /var/www/web.ring.nlnog.net/HTML/scripts>
    Options ExecCGI
    AddHandler cgi-script .cgi
</Directory>

RedirectMatch "^/$" "/introduction/"
ErrorDocument 404 /404.html
ErrorLog ${APACHE_LOG_DIR}/web.ring.nlnog.net-error.log

# Possible values include: debug, info, notice, warn, error, crit,
# alert, emerg.
LogLevel warn

CustomLog ${APACHE_LOG_DIR}/web.ring.nlnog.net-access.log combined

SSLEngine On
SSLCACertificateFile /etc/letsencrypt/live/ring.nlnog.net/fullchain.pem

SSLCertificateFile /etc/letsencrypt/live/ring.nlnog.net/cert.pem
SSLCertificateKeyFile /etc/letsencrypt/live/ring.nlnog.net/privkey.pem
Include /etc/letsencrypt/options-ssl-apache.conf
SSLCertificateChainFile /etc/letsencrypt/live/ring.nlnog.net/chain.pem

</VirtualHost>
